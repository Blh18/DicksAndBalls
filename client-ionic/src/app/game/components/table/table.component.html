<div id="table" class="ion-margin-horizontal" [class.active-table]="playerOnTurn && playerOnTurn === playerName">
    <ion-grid>
        <ion-row class="ion-justify-content-center decks">
            <ion-col class="ion-padding-end ion-margin-end" size="auto">
                <div class="deck-overlay-container" [class.empty-deck]="cardsInDeck === '0'" role="button"
                     (click)="handleDeckClick()">
                    <div *ngIf="cardsInDeck" class="card-count">{{cardsInDeck}}</div>
                    <div *ngIf="isSkippingTurn" class="action-overlay">Skip<br/>
                        <ion-icon name="arrow-redo-sharp"></ion-icon>
                    </div>
                    <div *ngIf="shouldDraw !== 0" class="action-overlay">Draw<br/>{{shouldDraw}}</div>
                    <div *ngIf="!gameActive && participating && this.playersCount && playersCount >= 2" class="action-overlay">Shuffle<br/>
                        <ion-icon name="shuffle"></ion-icon>
                    </div>
                </div>
            </ion-col>
            <ion-col class="ion-padding-start ion-margin-start" size="auto">
                <div *ngIf="reversedDeck">
                    <app-deck-card [card]="reversedDeck[0]" [noTransform]="true"></app-deck-card>
                    <app-deck-card
                            *ngFor="let card of reversedDeck | slice:1; trackBy: trackByCard"
                            [card]="card"
                            [colorChangedTo]="card.value === 'Queen' ? colorChangedTo : undefined"
                    ></app-deck-card>
                </div>
                <div *ngIf="!reversedDeck" class="deck-outline"></div>
            </ion-col>
        </ion-row>
    </ion-grid>
    <app-cards
            [participating]="participating"
            [gameActive]="gameActive"
            [cards]="cards"
            [playerName]="playerName"
            [playerOnTurn]="playerOnTurn"
            [isSkippingTurn]="isSkippingTurn"
            [shouldDraw]="shouldDraw"
            (nameChange)="nameChange.emit($event)"
    ></app-cards>
</div>
