<ion-content id="game">
    <div id="game-content">
        <app-players
                [players]="players"
                [gameActive]="active"
                [participating]="participating"
                [playerName]="playerName"
                [playerOnTurn]="playerOnTurn"
        ></app-players>
        <div class="message" [class.error-message]="message?.error">
            <ion-text *ngIf="message"
                      [color]="message.error ? 'danger' : null">{{message.text}}</ion-text>
        </div>
        <app-table
                [gameActive]="active"
                [playerName]="playerName"
                [participating]="participating"
                [deckTop]="deckTop"
                [playerOnTurn]="playerOnTurn"
                [cards]="cards"
                [colorChangedTo]="colorChangedTo"
                [isSkippingTurn]="isSkippingTurn"
                [isWinner]="isWinner"
                [isLoser]="isLoser"
                [shouldDraw]="shouldDraw"
                [cardsInDeck]="cardsInDeck"
                [playersCount]="players?.length"
                (nameChange)="playerName = $event"
        ></app-table>
    </div>
</ion-content>
<ion-fab *ngIf="participating" vertical="bottom" horizontal="center" slot="fixed">
    <app-game-button
            id="game-button"
            [gameActive]="active"
            [isWinner]="isWinner"
            [cardsCount]="cards?.length"
            (playerName)="playerName = $event"
    ></app-game-button>
</ion-fab>
<ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button color="light" (click)="toggleChat()">
        <ion-icon name="chatbubbles-sharp"></ion-icon>
    </ion-fab-button>
</ion-fab>
<ion-menu side="end" menuId="chat" contentId="game-content">
    <ion-header>
        <ion-toolbar>
            <ion-title>Chat</ion-title>
            <ion-buttons slot="secondary">
                <ion-button (click)="toggleChat()">
                    <ion-icon slot="icon-only" name="close"></ion-icon>
                </ion-button>
            </ion-buttons>
        </ion-toolbar>
    </ion-header>
    <ion-content>
        Will be available in Prší 2.0, hold on!
    </ion-content>
</ion-menu>
